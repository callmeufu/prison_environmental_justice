This folder contains information on the boundaries of carceral facilities (prisons, jails, and immigrant detention centers etc.) in the U.S. and the preparation of a prison-specific dataset.

**Carceral Facilities Boundaries Data:** The initial raw dataset of 6,738 carceral facilities boundaries was imported from the [Department of Homeland Security](https://opendata.arcgis.com/api/v3/datasets/2d6109d4127d458eaf0958e4c5296b67_0/downloads/data?format=geojson&spatialRefId=4326&where=1%3D1) (DHS)  Homeland Infrastructure Foundation-Level Data (HIFLD) using a GeoJSON file, hosted on [this website](https://hifld-geoplatform.hub.arcgis.com/datasets/geoplatform::prison-boundaries/explore?location=1.207416,-9.852691,0.97). This dataset includes the geographic boundaries and attributes of "secure detention facilities" (in American states and territories) which includes prisons, jails, detention centers, re-entry facilities, jails, juvenile detention centers and more. 

**Clean List of Prisons:** A clean list of prisons [state_fed_prisons.csv](./state_fed_prisons.csv) is provided from a CSV file containing FACILITYID values as strings. This list was used to filter the raw dataset to include only prisons. Filtering down to prisons was done in [OpenRefine](https://openrefine.org/) by Dr. Ufuoma Ovienmhada. The final dataset included 1,614 facilities (24% of DHS dataset) which is close to the number of state and federal adult correctional facilities reported by the [BJS Census](https://bjs.ojp.gov/library/publications/census-state-and-federal-adult-correctional-facilities-2019-statistical-tables) in 2019.

The dataset was filtered to only include facilities under state, federal, multi, or unknown jurisdictions that were open as of June 2020 (the last reported update by DHS). Then, facilities that were deemed to be different from prisons (i.e., either in function, population, or infrastructure) were manually excluded. For example, this process excluded Residential Reentry Centers (also referred to as "halfway houses"). While [halfway houses are rife with problematic conditions](https://www.prisonpolicy.org/blog/2020/09/03/halfway/), they can range from more residential style homes to more carceral infrastructure with locked doors. The populations in halfway houses can also be quite transient, housed for short or long time periods. We wanted to focus the analysis of environmental risk factors in specifically prisons, which are often housing people for long periods of time in old infrastructure built of masonry materials, with high restrictions on movement. Future work should investigate other types of carceral facilities beyond prisons.

**Linking prison boundaries to census/demographic data:** The DHS HIFLD dataset includes some facility-level and demographic information including security level, jurisdiction, and population size. More robust facility-level and demographic data is measured through the [Bureau of Justice Statistics (BJS) Census of State and Federal Adult Correctional Facilities](https://bjs.ojp.gov/data-collection/census-state-and-federal-adult-correctional-facilities-ccf-formerly-csfacf#3-0). The BJS census is conducted approximately every 5 to 7 years to obtain facility-level information on the operations of facilities and the conditions of confinement, including facility capacity, race/ethnicity/sex demographics, and crowding, court orders, safety and security within prisons, security-staff workload, overall facility function, programming, work assignments, and special housing. We obtained the BJS Census 2019 (the most recent one available, although data is currently being collected for a 2024 census) as a csv to construct a dataset that links prison boundaries (from HIFLD) to information only available in the census. 

Joining these two datasets was not straightforward. There was no common unique identifier between the datasets - each used unrelated unique identifiers. Joining by facility names was also not straightforward as the datasets had different naming conventions (e.g. 'Johnston Unit' vs 'Johnston'), and some facilities in different states have similar names (e.g. Johnston Correctional Institution in North Carolina vs Johnston (JT) Unit in Texas). Lastly, joining by address was also not straightforward as distinct prisons are often clustered together in the same complex with identical addresses. To accomplish joining these datasets we undertook a multi-pronged  approach that included the following steps repeated in various orders of arrangement:
  - Using Python and the Nominatim package we geocoded the BJS Census data into a GIS-operable format and then used a Join By Location (Intersection, no buffer) operation in QGIS to link datasets. This linked a few hundred facilities out of 1,614 U.S. facilities. We than manually reviewed the joins for accuracy. Of the 406 matches, 361 were actually correct, and 45 required sqapping for adjacent facilities. We repeated this multiple times (removing confirmed matches from the overall total each time), using different geocoding packages and including a buffer in some of the joins to accommodate small geocoding/projection differences. We were able to match 919/1614 facilities with this approach.
  - For facilities that were unmatched via geocoding, we used a Join By Attribute using the facility's _exact_ name. We joined an additional 173 facilities using this approach, bringing us to a total N = 1,092.
  - Then, we used a string similarity function in Python to join features that had similar addresses OR similar names. We then manually verified the results for an additional 122 matches.
  - Lastly, we repeated some of the above steps with manual verification to identify a few more bringing us to a total N = 1292 matches

**The final list of matched datasets is final_matches.csv in this folder**. An important note is that final_matches_csv has a unique identifier from the BJS Census dataset ('V003') but there are some repeated identifiers from the HIFLD dataset ('FACILITYID'). This is because in several cases the HIFLD dataset did not have distinct polygons for facilities that are adminstratively different within the Census (sometimes this occurs due to having sections of the same facility that are different security levels). For example, in our dataset FACILITYID '10001089' has three different 'V003' ids from the DS1 census, with three different total incarcerated populations (in population and racial/ethnic makeup). We believe this characteristic of our dataset is non-problematic because the purpose of the dataset is to facilitate linking exposure data (e.g. air temperature at a prison polygon), to an exposed population. Thus, our dataset essentially allows one to _assign the same exposure_ of adjacent/identical polygons to _unique census records_ to make the most use of the population/demographic info. _Without allowing for repeated FACILITYID, we could not accurately capture metrics of exposure by population._

**Sources of Error:** As the filtering for the state_fed_prisons.csv and portions of final_matches.csv was done manually, there are certainly potential errors in the list of prisons and/or matched datasets. Some anticipated sources of error may stem from:
- Facilities that have shuttered/closed fown in the past can be reopened. In some cases, the populations shift over time by sex, or by function (e.g. criminal versus immigrant detention).
- New facilities may have opened since the time of the lasy update by the DHS in 2020
- In some places, a facility is colloquially described as a prison but may officially be categorized in another way
- Facilities with identical locations or names could be confused in the Join By Location or Join by Address processes

We hope this work can be a starting point for future refinement of specific types of carceral facilities to enable more detailed research.
